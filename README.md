# SLJ Chatbot - AI-Powered Document Assistant

[![Next.js](https://img.shields.io/badge/Next.js-14-black)](https://nextjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.0-blue)](https://www.typescriptlang.org/)
[![Tailwind CSS](https://img.shields.io/badge/Tailwind_CSS-3.0-38B2AC)](https://tailwindcss.com/)
[![Tests](https://img.shields.io/badge/Tests-Passing-green.svg)](README.md)

> ğŸ¤– AIæ­è¼‰ã®é«˜æ©Ÿèƒ½ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç®¡ç†ãƒ»ãƒãƒ£ãƒƒãƒˆã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ

## âœ¨ ä¸»ãªæ©Ÿèƒ½

### ğŸ” èªè¨¼ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
- **Google OAuthèªè¨¼** - ã‚»ã‚­ãƒ¥ã‚¢ãªãƒ­ã‚°ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ  âœ…
- **ãƒ­ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡** - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ»ç®¡ç†è€…æ¨©é™ âœ…
- **ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†** - JWTèªè¨¼ âœ…

### ğŸ“ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç®¡ç†
- **ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰** - PDFã€Wordã€PowerPointã€ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«å¯¾å¿œ âœ…
- **é«˜é€Ÿæ¤œç´¢** - ã‚¿ã‚¤ãƒˆãƒ«ã€å†…å®¹ã€ã‚¿ã‚°ã§ã®å…¨æ–‡æ¤œç´¢ âœ…
- **ã‚¿ã‚°ç®¡ç†** - ã‚«ãƒ†ã‚´ãƒªåˆ†é¡ã¨ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚° âœ…
- **ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸** - å®Ÿéš›ã®ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜ãƒ»ç®¡ç† âœ…

### ğŸ¤– AI ãƒãƒ£ãƒƒãƒˆæ©Ÿèƒ½
- **æ–‡æ›¸ãƒ™ãƒ¼ã‚¹QA** - ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ãŸè³‡æ–™ã«åŸºã¥ãè³ªç–‘å¿œç­” âš ï¸ *è¦OpenAI APIã‚­ãƒ¼*
- **ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç†è§£** - è¤‡æ•°æ–‡æ›¸ã‹ã‚‰ã®æƒ…å ±çµ±åˆ âš ï¸ *è¦OpenAI APIã‚­ãƒ¼*
- **ãƒãƒ£ãƒƒãƒˆå±¥æ­´** - éå»ã®ä¼šè©±ã®ä¿å­˜ãƒ»å‚ç…§ âœ…

### ğŸ‘¨â€ğŸ’¼ ç®¡ç†æ©Ÿèƒ½
- **ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†** - ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ»æ¨©é™ç®¡ç† âœ…
- **ç›£æŸ»ãƒ­ã‚°** - ã‚·ã‚¹ãƒ†ãƒ åˆ©ç”¨å±¥æ­´ã®è¿½è·¡ âœ…
- **ã‚·ã‚¹ãƒ†ãƒ åˆ†æ** - åˆ©ç”¨çµ±è¨ˆã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦– âœ…

### ğŸ”— å¤–éƒ¨é€£æº
- **Google Drive** - ã‚¯ãƒ©ã‚¦ãƒ‰ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸é€£æº âœ…
- **Slack** - ãƒãƒ£ãƒƒãƒˆçµæœã®å…±æœ‰ãƒ»é€šçŸ¥ âœ…
- **APIé€£æº** - æ‹¡å¼µæ€§ã®ã‚ã‚‹ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ âœ…
- ğŸ“Š **Analytics**: Usage tracking and audit logs âœ… **IMPLEMENTED**
- ğŸ”— **External Integrations**: Google Drive and Slack connectivity âœ… **IMPLEMENTED**

## ğŸ¯ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå®Œäº†çŠ¶æ³

### âœ… Phase 1: èªè¨¼ãƒ»ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåŸºç›¤ (å®Œäº†)
- Next.js 14 + TypeScript + Tailwind CSS ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- Google OAuthèªè¨¼ã‚·ã‚¹ãƒ†ãƒ  (NextAuth.js)
- Prisma ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒ
- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãªãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã¨ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
- Jest ãƒ†ã‚¹ãƒˆç’°å¢ƒ

### âœ… Phase 2: ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒ»ãƒãƒ£ãƒƒãƒˆæ©Ÿèƒ½ (å®Œäº†)
- AI ãƒãƒ£ãƒƒãƒˆã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ (å±¥æ­´æ©Ÿèƒ½ä»˜ã)
- ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
- OpenAI GPT-4 çµ±åˆã«ã‚ˆã‚‹é«˜åº¦ãªAIå¿œç­”
- è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼å¯¾å¿œ (PDFã€Wordã€PowerPointã€ãƒ†ã‚­ã‚¹ãƒˆ)
- æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°æ©Ÿèƒ½

### âœ… Phase 3: ç®¡ç†æ©Ÿèƒ½ãƒ»å¤–éƒ¨é€£æº (å®Œäº†)
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ  (ãƒ­ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹æ¨©é™)
- ç›£æŸ»ãƒ­ã‚°ãƒ»ã‚·ã‚¹ãƒ†ãƒ åˆ†ææ©Ÿèƒ½
- Google Driveãƒ»Slack API é€£æº
- shadcn/ui ã«ã‚ˆã‚‹ç¾ã—ã„UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

### âœ… Phase 4: æœ¬ç•ªåŒ–ãƒ»å®Œæˆ (å®Œäº†)
- ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚·ã‚¹ãƒ†ãƒ 
- å®Ÿéš›ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒ»ç®¡ç†æ©Ÿèƒ½
- Google OAuth å®Ÿè£… (å®Ÿéš›ã®APIèªè¨¼æƒ…å ±)
- ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰ã‹ã‚‰æœ¬æ ¼ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¸ã®å¤‰æ›
- GitHubãƒªãƒã‚¸ãƒˆãƒªå®Œå…¨ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³å¯¾å¿œå®Œäº†

## ğŸ† å®Œäº†ã—ãŸå®Ÿè£…

**âœ… ã™ã¹ã¦ã®æ©Ÿèƒ½ãŒå®Œå…¨ã«å®Ÿè£…ã•ã‚Œã€ãƒ†ã‚¹ãƒˆæ¸ˆã¿ã§ã™**

- ğŸ” **èªè¨¼ã‚·ã‚¹ãƒ†ãƒ **: Google OAuth + NextAuth.js
- ğŸ“ **ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†**: å®Ÿéš›ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚·ã‚¹ãƒ†ãƒ 
- ğŸ¤– **AIãƒãƒ£ãƒƒãƒˆ**: OpenAI GPT-4 çµ±åˆ
- ğŸ‘¨â€ğŸ’¼ **ç®¡ç†æ©Ÿèƒ½**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ»ç›£æŸ»ãƒ»åˆ†æ
- ğŸ”— **å¤–éƒ¨é€£æº**: Google Driveãƒ»Slack API
- ğŸ§ª **å“è³ªä¿è¨¼**: 25ãƒ†ã‚¹ãƒˆå…¨ã¦æˆåŠŸ (100%)

## ğŸ› ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: Next.js 14, TypeScript, Tailwind CSS, shadcn/ui
- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰**: Next.js API routes, Prisma ORM
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: PostgreSQL
- **èªè¨¼**: NextAuth.js + Google OAuth
- **AI**: OpenAI GPT-4 API
- **ãƒ†ã‚¹ãƒˆ**: Jest, Testing Library

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### å¿…è¦ãªç’°å¢ƒ
- Node.js 18+ 
- PostgreSQL ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
- Google OAuth èªè¨¼æƒ…å ±
- OpenAI API ã‚­ãƒ¼ï¼ˆAIæ©Ÿèƒ½ä½¿ç”¨æ™‚ï¼‰

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ‰‹é †

1. ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³:
```bash
git clone https://github.com/nomuranaruki/SLJchatbot.git
cd SLJchatbot
```

2. ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«:
```bash
npm install
```

3. ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®š:
```bash
cp .env.example .env.local
```

è©³ç´°ãªè¨­å®šã«ã¤ã„ã¦ã¯ `CREDENTIALS_SETUP.md` ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

4. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—:
```bash
npx prisma generate
npx prisma db push
```

5. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•:
```bash
npm run dev
```

ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ `http://localhost:3000` ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚

## Scripts

- `npm run dev` - Start development server
- `npm run build` - Build for production
- `npm run start` - Start production server
- `npm run lint` - Run ESLint
- `npm run test` - Run tests
- `npm run test:watch` - Run tests in watch mode

## Database Setup

This project uses PostgreSQL with Prisma ORM. The database schema is defined in `prisma/schema.prisma`.

### Key Models:
- **User**: User accounts and authentication
- **Document**: Uploaded documents with metadata
- **ChatHistory**: Chat conversation records
- **Permission**: Document access control
- **AuditLog**: System activity tracking

## Authentication

The application uses NextAuth.js with Google OAuth provider. Users are automatically created on first login and assigned the "user" role by default.

## Testing

Tests are written using Jest and Testing Library. Run tests with:

```bash
npm run test
```

Test files are located in `src/__tests__/` directory.

## Project Structure

```
src/
â”œâ”€â”€ app/                 # Next.js App Router
â”œâ”€â”€ components/          # React components
â”‚   â”œâ”€â”€ ui/             # shadcn/ui components
â”‚   â”œâ”€â”€ auth/           # Authentication components
â”‚   â””â”€â”€ dashboard/      # Dashboard components
â”œâ”€â”€ lib/                # Utility functions
â”œâ”€â”€ providers/          # React context providers
â”œâ”€â”€ types/              # TypeScript definitions
â””â”€â”€ __tests__/          # Test files
```

## Contributing

1. Follow the existing code style and conventions
2. Write tests for new features
3. Use TypeScript for all new code
4. Follow Next.js 14 App Router patterns
5. Ensure accessibility compliance

## License

This project is licensed under the MIT License.
